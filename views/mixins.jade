mixin paginador(pagina, totalPaginas, totalRegistros, basePath, term)
    - term = term || ''
    nav
        ul.pager
            
            if pagina != 1
                - var pagAnterior = parseInt(pagina) - 1;
                li.previous: <a href="/#{basePath}?pagina=#{pagAnterior}&q=#{term}"><span aria-hidden="true">&larr;</span> Anteriores</a>
            else 
                li.previous.disabled: <a href="#"><span aria-hidden="true">&larr;</span> Anteriores</a>
            li: span Mostrando página #{pagina} de #{totalPaginas}, total de registros #{totalRegistros}
            
            if pagina < totalPaginas
                -var pagSiguiente = parseInt(pagina) + 1;
                li.next: <a href="/#{basePath}?pagina=#{pagSiguiente}&q=#{term}"><span aria-hidden="true">&rarr;</span> Siguientes</a>
            else 
                li.next.disabled: <a href="#"><span aria-hidden="true">&rarr;</span> Siguientes</a>

mixin tplTextoSubtitulos
    script(type="x-handlebars")#tplSubtitulos.
        [Script Info]
        ; Script generated by Aegisub 3.2.1
        ; http://www.aegisub.org/
        Title: Default Aegisub file
        ScriptType: v4.00+
        WrapStyle: 0
        ScaledBorderAndShadow: yes
        YCbCr Matrix: None

        [Aegisub Project Garbage]

        [V4+ Styles]
        Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
        Style: Default,Arial,20,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2,2,2,10,10,10,1

        [Events]
        Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
        {{#each subtitulos}}
        Dialogue: 0,{{{ desde }}},{{{ hasta }}},Default,,0,0,0,,{\i1\fnLiberation Sans\fs26} {{{ texto }}}
        {{/each}}

mixin tplSubtitulosSrt
    script(type="x-handlebars")#tplSubtitulosSrt.
        {{#each subtitulos}}
        {{@index}}
        {{ fechaSrt desde}} --> {{ fechaSrt hasta }}
         <font color="{{color}}"  size="24px"><b>{{texto}}</b></font>

        {{/each}}
mixin tplTablaSubtitulos
    script(type="x-handlebars")#tplListaSubtitulos.
        <table class="table table-stripped">
            <thead>
                <tr>
                    <th>Desde</th>
                    <th>Hasta</th>
                    <th>Texto</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {{#each subtitulos}}
                    <tr class="fila" data-desde="{{desde}}" data-hasta="{{hasta}}" data-texto="texto" data-color="{{color}}" data-index="{{@index}}">
                        <td>
                            <input type="hidden" class="serialized" value="{{serializar this @index}}" />
                            <span class="tiempo-subtitulo label label-primary tbl-tiempo tbl-tiempo-desde">{{desde}}</span>
                            <button class="btn btn-xs btn-primary js-subtitulo-desde" title="Copiar en subtítulo desde"><i class="fa fa-outdent" aria-hidden="true"></i></button>
                            <button class="btn btn-xs btn-primary js-subtitulo-hasta" title="Copiar en subtítulo hasta"><i class="fa fa-indent" aria-hidden="true"></i></button>
                        </td>
                        <td>
                            <span class="tiempo-subtitulo label label-danger tbl-tiempo tbl-tiempo-hasta">{{hasta}}</span>
                            <button class="btn btn-xs btn-primary js-subtitulo-desde" title="Copiar en subtítulo desde"><i class="fa fa-outdent" aria-hidden="true"></i></button>
                            <button class="btn btn-xs btn-primary js-subtitulo-hasta" title="Copiar en subtítulo hasta"><i class="fa fa-indent" aria-hidden="true"></i></button>
                        </td>
                        <td><span class="tbl-texto" style="background-color: {{color}};">{{texto}}</span></td>
                        <td class="pull-right">
                            <button class="btn btn-primary btn-xs js-editar-subtitulo" data-index="{{@index}}" title="Editar"><i class="fa fa-edit"></i></button>
                            <button class="btn btn-danger btn-xs js-eliminar-subtitulo" data-index="{{@index}}" title="Eliminar"><i class="glyphicon glyphicon-remove"></i></button>
                        </td>
                    </tr>
                {{/each}}
            </tbody>
        </table>

mixin formSubtitulos
    .panel
        .panel-heading
            h3 Generar Subitulos
        .panel-body
            .form-subtitulo
                .form-group
                    label Desde (formato h:mm:ss.MMM)
                    input.form-control.js-desde.js-tiempo(type="text", value="0:00:00.000")
                .form-group
                    label Hasta (formato h:mm:ss.MMM)
                    -var hastaValue = hasta || '';
                    input.form-control.js-hasta.js-tiempo(type="text", value="#{hastaValue}")
                .form-group
                    label Texto
                    input.form-control.js-texto(type="text", placeholder="Texto del subtitulo")
                .form-group
                    label Color
                    select.form-control#slSubtitulos
                        option(value="yellow") Amarillo
                        option(value="white") Blanco
                        option(value="orange") Naranja
                        option(value="pink") Rosa
                .form-group
                    .text-center
                        button.btn.btn-primary.js-agregar-subtitulo Agregar linea
            
            input(type="hidden", name="subtitulo").js-subtitulo
        .panel-footer
mixin paneltextocanvas
    .panel#panelTexto.hidden
        .panel-body
            .col-xs-6
                .form-group
                    label Texto
                    textarea.form-control.js-texto(rows="3")
                .form-group
                    label Alineación
                    .btn-group.js-align
                        button(type="button", class="btn btn-default", data-align="center", data-label="Centrado") <i class="fa fa-align-center"></i>
                        button(type="button", class="btn btn-default", data-align="left", data-label="Izquierda") <i class="fa fa-align-left"></i>
                        button(type="button", class="btn btn-default", data-align="right", data-label="Derecha") <i class="fa fa-align-right"></i>
                        button(type="button", class="btn btn-default", data-align="justify", data-label="Justificado") <i class="fa fa-align-justify"></i>
                    span.label.label-default.js-label-align(data-align="center") Centrado
                .form-group
                    div(style="font-family: 'impact', sans-serif; ") Impact
                    div(style="font-family: 'Arial', sans-serif; ") Arial
                    div(style="font-family: 'OpenSans', sans-serif; ") Open Sans
                    div(style="font-family: 'Simpsons', sans-serif; ") Simpsons
                .form-group
                    label Alto linea
                    input(type="text", name="font_weight", class="slider js-line-height", data-provide="slider", data-slider-min="0.5", data-slider-max="3", data-slider-step="0.01", data-slider-value="1.16" )
                .form-group
                    label Tamaño
                    input(type="text", name="tam_font", class="slider js-font-size", data-provide="slider", data-slider-min="1", data-slider-max="48", data-slider-step="1", data-slider-value="28" )
                .form-group
                    label Peso
                    input(type="text", name="font_weight", class="slider js-font-weight", data-provide="slider", data-slider-min="100", data-slider-max="800", data-slider-step="100", data-slider-value="400" )
                                        
            .col-xs-6
                .form-group
                    label Fuente
                    select.form-control.js-font
                        option(value="impact") Impact
                        option(value="Arial") Arial
                        option(value="Times New Roman") Times New Roman
                        option(value="Open Sans") Open Sans
                        option(value="Simpsons") Simpsons
            //- .col-xs-6
            //-     .form-group
            //-         label Tamaño
            //-         input.form-control(type="number", value="24").js-size
            .col-xs-6
                .form-group
                    label Color
                    input(type="color", value="#fffb00").form-control.js-color
                    //- select.form-control.js-color
                        option(value="yellow") Amarillo
                        option(value="white") Blanco
                        option(value="orange") Naranja
                        option(value="pink") Rosado

        .panel-footer
            p.text-center.center-block
                button.btn.btn-success.js-agregar-texto Agregar texto
            p.label.label-default.col-xs-12 Una vez agregado el texto se puede arrastrar hacia la posición deseada
            p.label.label-danger.col-xs-12 También se puede borrar con un click en la rudita del mouse
mixin tablaObjetos
     script(type="x-handlebars")#tplListaObjetos.
        <table class="table table-stripped">
            <thead>
                <tr>
                    <th class="col-sm-2">Tipo</th>
                    <th class="col-sm-3">Valor</th>
                    <th class="col-sm-2">Opacidad</th>
                    <th class="col-sm-5">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {{#each objetos}}
                    <tr>
                    {{#if text }}

                            <td><span class="tiempo-subtitulo label label-primary">Texto</span></td>
                            <td><span class="tiempo-subtitulo label label-danger">{{text}}</span></td>
                            <td>
                                <input type="number" class="js-cambiar-opacidad" min="0" max="1" value="1" data-index="{{@index}}" data-idx="{{@index}}" step="0.05" />
                            </td>
                            <td class="pull-right">
                                <div class="btn-group">
                                    <button class="btn btn-primary btn-xs js-seleccionar-objeto" data-index="{{@index}}" title="Seleccionar"><i class="glyphicon glyphicon-ok"></i></button>
                                    <button class="btn btn-primary btn-xs js-clone" data-index="{{@index}}" title="Clonar"><i class="fa fa-clone"></i></button>
                                    <button class="btn btn-danger btn-xs js-eliminar-objeto" data-index="{{@index}}" data-idx="{{@index}}" title="Eliminar"><i class="glyphicon glyphicon-remove"></i></button>                         
                                </div>
                            </td>
                    {{/if}}        
                    {{#if _element.src }}
                            <td><span class="tiempo-subtitulo label label-primary">Imagen</span></td>
                            <td><img src="{{_element.src}}" style="width: 32px; max-width: 32px;"></td>
                            <td>
                                <input type="number" class="js-cambiar-opacidad" min="0" max="1" value="1" data-index="{{@index}}" data-idx="{{@index}}" step="0.05" />
                            <td>
                            <td class="pull-right">
                                <div class="btn-group">
                                    <button class="btn btn-primary btn-xs js-seleccionar-objeto" data-index="{{@index}}" title="Seleccionar"><i class="glyphicon glyphicon-ok"></i></button>
                                    
                                    <button class="btn btn-info btn-xs js-flip-x" data-index="{{@index}}" title="Flip horizontal"><i class="glyphicon glyphicon-menu-right"></i></button>
                                    <button class="btn btn-warning btn-xs js-flip-y" data-index="{{@index}}" title="Flip Vertical"><i class="glyphicon glyphicon-menu-up"></i></button>
                                    <button class="btn btn-primary btn-xs js-clone" data-index="{{@index}}" title="Clonar"><i class="fa fa-clone"></i></button>
                                    <button class="btn btn-danger btn-xs  js-eliminar-objeto" data-index="{{@index}}" data-idx="{{@index}}" title="Seleccionar"><i class="glyphicon glyphicon-remove"></i></button>                         
                                </div>
                                
                            </td>
                            
                    {{/if}}
                    </tr>   
                {{/each}}
            </tbody>
        </table>